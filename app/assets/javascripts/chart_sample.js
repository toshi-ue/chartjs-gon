// https://misc.0o0o.org/chartjs-doc-ja/
window.draw_graph = function () {
  ctx = document.getElementById("myChart").getContext('2d');
  return myChart = new Chart(ctx, {
    // グラフの種類を選ぶ
    type: 'bar',
    data: {
      // x軸のデータ(日時など)
      // グラフが1つのみであればここにlabelプロパティを記述
      labels: gon.labels,
      datasets: [
        // 1つめのデータ
        {
          // 2つめのデータのグラフの種類を選ぶ
          type: 'line',
          label: 'ユーザー登録数',
          data: gon.sign_up_users,
          // グラフの色の指定
          backgroundColor: 'rgba(251, 176, 52, 0.8)',
          // グラフ外枠の色指定
          borderColor: 'rgba(251, 176, 52, 0.8)',
          fill: false,
          yAxisID: "Yの右軸"
        },
        // 2つめのデータ
        {
          // 対応するグラフの説明
          label: '売上',
          // 実際に使うデータ（配列で渡す）
          data: gon.sales,
          // グラフの色の指定
          backgroundColor: 'rgba(75, 192, 192, 1)',
          // グラフ外枠の色指定
          borderColor: 'rgba(75, 192, 192, 1)',
          // グラフの外枠の幅指定
          borderWidth: 1,
          // 線の下の領域を色付けの可否(true, false)
          fill: false,
          // 線グラフの曲線
          lineTension: 0,
          // 点の半径(px)
          pointRadius: 5,
          // 点の図形(defaultはcircle)
          pointStyle: 'triangle',
          // マウスオーバー検出の範囲(px)
          pointHitRadius: 5,
          yAxisID: "Yの左軸"
        }
      ],
      // グラフが2つであればここにlabelプロパティを記述
      // labels: gon.labels,
    },
    options: {
      title:{
        display:true,
        text: gon.title
      },
      scales: {
        xAxes:[{}],
        yAxes: [
          {
            id: "Yの左軸",
            position: "left",
            scaleLabel:{
              display: true,
              labelString: "売上(円)"
            }
          },
          {
            id: "Yの右軸",
            position: "right",
            gridLines: false,
            scaleLabel:{
              display: true,
              labelString: "登録人数(人)",
            },
            ticks: {
              beginAtZero: true,
              max: 20,
              stepSize: 4
            }
          }
        ]
      }
    }
  });
};

// ---
// generated by coffee-script 1.9.2
